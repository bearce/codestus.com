---
title: ƒê·∫∑t ƒëi·ªÅu ki·ªán trong JSX nh∆∞ th·∫ø n√†o cho h·ª£p l√Ω?
description: Khi ph√°t tri·ªÉn c√°c components, vi·ªác ƒë·∫∑t c√°c ƒëi·ªÅu ki·ªán b√™n trong JSX l√†m ƒëo·∫°n m√£ c·ªßa b·∫°n tr·ªü n√™n l·ªôn x·ªôn v√† kh√≥ ƒë·ªçc h∆°n
tags: React
author: Tr·ªçng D∆∞∆°ng ƒê·ª©c
publishAt: 2022-04-24T12:03:53.000Z
createdAt: 2022-04-24T12:03:53.000Z
updatedAt: 2024-05-17T14:32:43.221Z
views: 3979
slug: dat-dieu-kien-trong-jsx-nhu-the-nao-cho-hop-ly
---

## V·∫•n ƒë·ªÅ

Khi ph√°t tri·ªÉn c√°c components, vi·ªác ƒë·∫∑t c√°c ƒëi·ªÅu ki·ªán b√™n trong JSX l√†m ƒëo·∫°n m√£ c·ªßa b·∫°n tr·ªü n√™n l·ªôn x·ªôn v√† kh√≥ ƒë·ªçc h∆°n. B·∫°n c√≥ th·ªÉ th·∫•y r√µ h∆°n ·ªü issue n√†y tr√™n [Stackoverflow m√† m√¨nh t√¨m th·∫•y v·ªÅ c√°ch ƒë·∫∑t ƒëi·ªÅu ki·ªán trong JSX](https://stackoverflow.com/questions/37312122/how-to-do-a-nested-if-else-statement-in-reactjs-jsx). N·∫øu codebase c·ªßa b·∫°n ƒë·ªß l·ªõn th√¨ l∆∞·ª£ng ƒëi·ªÅu ki·ªán b·∫°n ph·∫£i ƒë·∫∑t trong JSX s·∫Ω s·ªõm v∆∞·ª£t qua kh·ªèi t·∫ßm tay c·ªßa b·∫°n.

M√¨nh kh√¥ng mu·ªën code c·ªßa ch√∫ng ta tr√¥ng nh∆∞ b√™n d∆∞·ªõi üòÉ tr∆∞·ªùng h·ª£p ch√∫ng ta ph·∫£i ƒë·∫∑t ƒëi·ªÅu ki·ªán b√™n trong JSX ƒë·ªÉ hi·ªÉn th·ªã c√°c th√¥ng tin, giao di·ªán m√¨nh mong mu·ªën. V√≠ d·ª• ·ªü ƒë√¢y l√† n√∫t ‚ÄúTh√™m gi·ªè h√†ng‚Äù

```jsx
function AddToCart({ isLoggedIn, loading, ...props }) {
	const [items, setItems] = React.useState(() => 
		window.localStorage.getItem("carts") ?? []
	);
	return (
		<>
			{
				loading ? (<div>
					Loading....
				</div>) : 
				isLoggedIn ? 
				<div>
					{items.length} items in carts
				</div> : 
				<button>Login to view cart</button>
			}
		</>
	)
}
```

ƒê·∫ßu ti√™n, ch√∫ng ta s·∫Ω ki·ªÉm tra tr·∫°ng th√°i ‚Äút·∫£i trang‚Äù n·∫øu c·∫ßn s·∫Ω hi·ªÉn th·ªã ‚Äúloading...‚Äù, v√† ng∆∞·ª£c l·∫°i ch√∫ng ta s·∫Ω hi·ªÉn th·ªã th√¥ng tin gi·ªè h√†ng v·ªõi s·ªë l∆∞·ª£ng hi·ªán c√≥ n·∫øu ng∆∞·ªùi d√πng ƒë√£ ƒëƒÉng nh·∫≠p, n·∫øu kh√¥ng s·∫Ω y√™u c·∫ßu ng∆∞·ªùi d√πng ƒëƒÉng nh·∫≠p. 

Nh√¨n tho√°ng ngang c√≥ th·ªÉ b·∫°n v·∫´n hi·ªÉu ƒë∆∞·ª£c, nh∆∞ng n·∫øu b√¢y gi·ªù m√¨nh b·ªï sung th√™m 1 ƒë·∫øn 2 ƒëi·ªÅu ki·ªán ki·ªÉm tra s·ªë h√†ng t·ªìn kho n·∫øu c√≤n th√¨ m·ªõi hi·ªÉn th·ªã, ƒë·∫£m b·∫£o b·∫°n s·∫Ω k th·ªÉ hi·ªÉu n√≥ ngay l·∫ßn ƒë·∫ßu ...

```jsx
function AddToCart({ isLoggedIn, loading, ...props }) {
	const stockStatus = "IN_STOCK";
	const [items, setItems] = React.useState(() => 
		window.localStorage.getItem("carts") ?? []
	);

	return (
		<>
			{ stockStatus === "IN_STOCK" ?
				loading ? (<div>
					Loading....
				</div>) : 
				isLoggedIn ? 
				<div>
					{items.length} items in carts
				</div> : 
				<button>Login to view cart</button> :
				stockStatus === "OUT_STOCK" ? <div>OUT OF STOCK</div> : 
				<div>Unknown</div>
			}
		</>
	)
}
```

Hmmm!!!

## Gi·∫£i ph√°p

D∆∞·ªõi ƒë√¢y l√† c√°ch ƒë·ªÉ ƒëo·∫°n m√£ d·ªÖ ƒë·ªçc h∆°n ƒë∆∞·ª£c l·∫•y c·∫£m h·ª©ng t·ª´ c√¢u l·ªánh [jsx-control-statements](https://github.com/AlexGilleran/jsx-control-statements). M√¨nh s·∫Ω ch·ªâ cho b·∫°n m·ªôt s·ªë m·∫´u hay trong JSX c√≥ th·ªÉ gi√∫p l√†m cho JSX s·∫°ch h∆°n v√† d·ªÖ ƒë·ªçc h∆°n.

```jsx
function AddToCart({ isLoggedIn, loading, ...props }) {
	const stockStatus = "IN_STOCK";
	const [items, setItems] = React.useState(() => 
		window.localStorage.getItem("carts") ?? []
	);

	return (
		<>
			<If condition={stockStatus === "IN_STOCK"}>
				<If condition={loading}>
					<div>
						Loading....
					</div>
				</If>

				<If condition={!loading}>
					<Choose>
						<When condition={isLoggedIn}>
							<div>
								{items.length} items in carts
							</div>
						</When>

						<Otherwise>
							<button>Login to view cart</button>
						</Otherwise>
					<Choose>
				</If>
			</If>
			<If condition={stockStatus === "IN_STOCK"}>
				<div>OUT OF STOCK</div>
			</If>
		</>
	)
}
```

`If` component ·ªü ƒë√¢y c√≥ th·ªÉ ƒë∆∞·ª£c hi·ªÉu theo ƒë√∫ng nghƒ©a t√™n g·ªçi c·ªßa n√≥, t∆∞∆°ng t·ª± v·ªõi `Choose`, `When` , `Otherwise` c≈©ng t∆∞∆°ng t·ª± v·ªõi switch case default m√† ch√∫ng ta hay s·ª≠ d·ª•ng. B·∫°n c√≥ th·ªÉ truy c·∫≠p v√†o th∆∞ vi·ªán [jsx-control-statements](https://github.com/AlexGilleran/jsx-control-statements) ƒë·ªÉ xem kƒ© h∆°n v·ªÅ c√°ch d√πng.

T·ª´ √Ω t∆∞·ªüng c·ªßa th∆∞ vi·ªán tr√™n, ch√∫ng ta c√≥ th·ªÉ t·ª± b·∫Øt ƒë·∫ßu x√¢y d·ª±ng n√≥ m·ªôt c√°ch d·ªÖ d√†ng v√† ch·ªß ƒë·ªông h∆°n trong vi·ªác tu·ª≥ bi·∫øn n√≥

```jsx
// <If /> component statement condition
function If({ condition, children }) {
	return condition ? children : null;
}
```

Kh√° d·ªÖ v·ªõi <If />. Ti·∫øp t·ª•c, ch√∫ng ta s·∫Ω ti·∫øp t·ª•c th·ª±c hi·ªán v·ªõi <Choose /> <When /> ngay b√¢y gi·ªù. Th√†nh ph·∫ßn <Choose /> s·∫Ω t√¨m <When /> component ƒë·∫ßu ti√™n v·ªõi `condition` prop l√† `true` v√† tr·∫£ v·ªÅ children c·ªßa n√≥. N·∫øu <When /> kh√¥ng  c√≥ ƒëi·ªÅu ki·ªán `true`. Tr·ª±c quan h∆°n ch√∫ng ta s·∫Ω tri·ªÉn khai n√≥ ngay ph√≠a d∆∞·ªõi.

```jsx
function When({ condition, children, ...props }) {
  return <>{condition ? children : null}</>;
}

function Choose({ children }) {
  const Node = null;
  const childrens = Children.toArray(children);

  for (let index = 0; index < childrens.length; index++) {
    const child = childrens[index];
    if (child.type.name === When.name && child.props.condition) {
      return child;
    }
  }

  return Node;
}
```

ƒê√¢y l√† m·ªôt gi·∫£i ph√°p kh√° t·ªët trong vi·ªác ƒë·ªçc v√† hi·ªÉu code m·ªôt c√°ch tr·ª±c quan h∆°n v·ªõi to√°n t·ª≠ 3 ng√¥i tr√™n JSX m√† b·∫°n c√≥ th·ªÉ c√¢n nh·∫Øc v·ªÅ l√† m·ªôt gi·∫£i ph√°p ƒë·ªÉ √°p d·ª•ng v√†o d·ª± √°n c·ªßa m√¨nh. Tuy nhi√™n, b·∫°n c√≥ th·ªÉ s·ª≠ d·ª•ng th∆∞ vi·ªán [jsx-control-statements](https://github.com/AlexGilleran/jsx-control-statements) thay v√¨ ph·∫£i t·ª± x√¢y d·ª±ng nh∆∞ ch√∫ng ta ƒëang l√†m.
      