---
title: Throttle trong JavaScript - "Phanh" hi·ªáu qu·∫£ cho c√°c s·ª± ki·ªán
description: B·∫°n ƒë√£ bao gi·ªù g·∫∑p t√¨nh hu·ªëng ·ª©ng d·ª•ng b·ªã lag khi ng∆∞·ªùi d√πng cu·ªôn chu·ªôt li√™n t·ª•c, hay nh·∫•n n√∫t submit nhi·ªÅu l·∫ßn m·ªôt c√°ch v√¥ t·ªôi v·∫°? ƒê√¢y ch√≠nh l√† l√∫c throttle ph√°t huy s·ª©c m·∫°nh! h√£y th·ª≠ t√¨m hi·ªÉu hi·ªÉu c√°ch "ki·ªÅm ch·∫ø" c√°c s·ª± ki·ªán "d·ªìn d·∫≠p" n√†y nh√©.
tags: JavaScript
author: Tr·ªçng D∆∞∆°ng ƒê·ª©c
publishAt: 2025-01-22T13:50:26.000Z
createdAt: 2025-01-22T13:50:26.000Z
updatedAt: 2025-01-22T14:53:16.729Z
views: 823
slug: throttle-trong-javascript-phanh-hieu-qua-cho-cac-su-kien
---

Khi l√†m vi·ªác v·ªõi JavaScript, ch·∫Øc h·∫≥n b·∫°n ƒë√£ t·ª´ng g·∫∑p tr∆∞·ªùng h·ª£p ·ª©ng d·ª•ng b·ªã ch·∫≠m ho·∫∑c lag do x·ª≠ l√Ω qu√° nhi·ªÅu s·ª± ki·ªán li√™n t·ª•c nh∆∞ `scroll`, `resize`, hay click n√∫t. L√∫c n√†y, **throttle** ch√≠nh l√† gi·∫£i ph√°p b·∫°n c·∫ßn! C√πng m√¨nh t√¨m hi·ªÉu c√°ch √°p d·ª•ng k·ªπ thu·∫≠t n√†y ƒë·ªÉ ·ª©ng d·ª•ng ch·∫°y m∆∞·ª£t m√† h∆°n nh√©!

## **Throttle l√† g√¨?**

Throttle l√† k·ªπ thu·∫≠t gi·ªõi h·∫°n t·∫ßn su·∫•t g·ªçi m·ªôt h√†m trong m·ªôt kho·∫£ng th·ªùi gian x√°c ƒë·ªãnh. V√≠ d·ª•: D√π ng∆∞·ªùi d√πng cu·ªôn trang li√™n t·ª•c, h√†m x·ª≠ l√Ω s·ª± ki·ªán `scroll` **ch·ªâ ƒë∆∞·ª£c g·ªçi 1 l·∫ßn m·ªói gi√¢y** n·∫øu b·∫°n √°p d·ª•ng throttle. ƒêi·ªÅu n√†y gi√∫p gi·∫£m t·∫£i cho ·ª©ng d·ª•ng, tr√°nh l√£ng ph√≠ t√†i nguy√™n.

## **T·∫°i sao c·∫ßn throttle?**

C√°c s·ª± ki·ªán nh∆∞ `scroll` ho·∫∑c `resize` c√≥ th·ªÉ k√≠ch ho·∫°t **h√†ng trƒÉm l·∫ßn m·ªói gi√¢y**. N·∫øu kh√¥ng ki·ªÉm so√°t, ch√∫ng s·∫Ω:

- üö´ **T·ªën t√†i nguy√™n**: G√¢y l√£ng ph√≠ b·ªô nh·ªõ v√† CPU.
- üê¢ **Gi·∫£m hi·ªáu nƒÉng**: ·ª®ng d·ª•ng tr·ªü n√™n ch·∫≠m ch·∫°p, ƒë·∫∑c bi·ªát khi x·ª≠ l√Ω logic ph·ª©c t·∫°p.
- üí• **G√¢y crash**: N·∫øu h√†m x·ª≠ l√Ω g·ªçi API ho·∫∑c th·ª±c hi·ªán t√≠nh to√°n n·∫∑ng.

Throttle gi√∫p b·∫°n **ƒëi·ªÅu ch·ªânh t·∫ßn su·∫•t** g·ªçi h√†m, c√¢n b·∫±ng gi·ªØa hi·ªáu nƒÉng v√† tr·∫£i nghi·ªám ng∆∞·ªùi d√πng.

## **C√°ch tri·ªÉn khai throttle**

D∆∞·ªõi ƒë√¢y l√† c√°ch tri·ªÉn khai throttle c∆° b·∫£n b·∫±ng JavaScript:

```javascript
function throttle(func, delay) {
  let lastExecuted = 0
  return function (...args) {
    const now = Date.now()
    if (now - lastExecuted >= delay) {
      func.apply(this, args)
      lastExecuted = now
    }
  }
}

// S·ª≠ d·ª•ng:
const handleResize = throttle(() => {
  console.log("X·ª≠ l√Ω thay ƒë·ªïi k√≠ch th∆∞·ªõc c·ª≠a s·ªï...")
}, 1000) // Gi·ªõi h·∫°n 1 l·∫ßn/gi√¢y

window.addEventListener("resize", handleResize)
```

**Gi·∫£i th√≠ch:**

- `lastExecuted`: L∆∞u th·ªùi ƒëi·ªÉm g·∫ßn nh·∫•t h√†m ƒë∆∞·ª£c g·ªçi.
- H√†m `func` ch·ªâ ƒë∆∞·ª£c th·ª±c thi n·∫øu th·ªùi gian t·ª´ l·∫ßn g·ªçi cu·ªëi **v∆∞·ª£t qu√°** `delay`.

## **V√≠ d·ª• th·ª±c t·∫ø: X·ª≠ l√Ω cu·ªôn trang**

Gi·∫£ s·ª≠ b·∫°n c·∫ßn c·∫≠p nh·∫≠t giao di·ªán khi ng∆∞·ªùi d√πng cu·ªôn trang. Kh√¥ng d√πng throttle, h√†m n√†y s·∫Ω ch·∫°y li√™n t·ª•c, g√¢y t·ªën t√†i nguy√™n. √Åp d·ª•ng throttle:

```javascript
const updateUIOnScroll = throttle(() => {
  // Logic c·∫≠p nh·∫≠t giao di·ªán
  console.log("C·∫≠p nh·∫≠t UI...")
}, 200) // Gi·ªõi h·∫°n 5 l·∫ßn/gi√¢y

window.addEventListener("scroll", updateUIOnScroll)
```

K·∫øt qu·∫£: ·ª®ng d·ª•ng c·ªßa b·∫°n c√≥ th·ªÉ mang tr·∫£i nghi·ªám m∆∞·ª£t m√† h∆°n m√† CPU kh√¥ng b·ªã qu√° t·∫£i, v√¨ ph·∫£i x·ª≠ l√Ω nhi·ªÅu y√™u c·∫ßu d·ªìn d·∫≠p kh√¥ng c·∫ßn thi·∫øt.

## **L·ª£i √≠ch khi d√πng throttle**

1. ‚úÖ **T·ªëi ∆∞u hi·ªáu nƒÉng**: Gi·∫£m ƒë√°ng k·ªÉ s·ªë l·∫ßn g·ªçi h√†m kh√¥ng c·∫ßn thi·∫øt.
2. üåü **Tr·∫£i nghi·ªám ng∆∞·ªùi d√πng t·ªët h∆°n**: ·ª®ng d·ª•ng ph·∫£n h·ªìi nhanh, kh√¥ng gi·∫≠t lag.
3. ‚ö°Ô∏è **D·ªÖ t√≠ch h·ª£p**: Tri·ªÉn khai nhanh v·ªõi code ƒë∆°n gi·∫£n.

## **Pitfall (c·∫°m b·∫´y) c·∫ßn tr√°nh**

1. **Ch·ªçn sai th·ªùi gian delay**:

   - Delay qu√° ng·∫Øn (v√≠ d·ª•: 50ms) ‚Üí Kh√¥ng gi·∫£i quy·∫øt tri·ªát ƒë·ªÉ v·∫•n ƒë·ªÅ.
   - Delay qu√° d√†i (v√≠ d·ª•: 2000ms) ‚Üí ·ª®ng d·ª•ng ph·∫£n h·ªìi ch·∫≠m tr·ªÖ.  
     ‚Üí **Gi·∫£i ph√°p**: Th·ª≠ nghi·ªám v·ªõi c√°c gi√° tr·ªã delay kh√°c nhau (100ms - 500ms th∆∞·ªùng ph√π h·ª£p).

2. **Nh·∫ßm l·∫´n gi·ªØa throttle v√† debounce**:
   - **Throttle**: ƒê·∫£m b·∫£o h√†m ƒë∆∞·ª£c g·ªçi **ƒë·ªÅu ƒë·∫∑n** sau m·ªói kho·∫£ng th·ªùi gian.
   - **Debounce**: Ch·ªâ g·ªçi h√†m **sau khi ng·ª´ng s·ª± ki·ªán** m·ªôt kho·∫£ng th·ªùi gian.  
     ‚Üí **Gi·∫£i ph√°p**: Ph√¢n t√≠ch k·ªπ nhu c·∫ßu tr∆∞·ªõc khi ch·ªçn k·ªπ thu·∫≠t.

## **K·∫øt lu·∫≠n**

Throttle l√† m·ªôt c√¥ng c·ª• m·∫°nh m·∫Ω ƒë·ªÉ t·ªëi ∆∞u h√≥a hi·ªáu nƒÉng ·ª©ng d·ª•ng JavaScript, ƒë·∫∑c bi·ªát khi x·ª≠ l√Ω c√°c s·ª± ki·ªán di·ªÖn ra li√™n t·ª•c. B·∫±ng c√°ch gi·ªõi h·∫°n t·∫ßn su·∫•t g·ªçi h√†m, b·∫°n kh√¥ng ch·ªâ ti·∫øt ki·ªám t√†i nguy√™n m√† c√≤n mang l·∫°i tr·∫£i nghi·ªám m∆∞·ª£t m√† h∆°n cho ng∆∞·ªùi d√πng.

N·∫øu b·∫°n ch∆∞a √°p d·ª•ng throttle, h√£y th·ª≠ ngay v·ªõi v√≠ d·ª• m√¨nh ƒë√£ chia s·∫ª nh√©! ƒê·ª´ng qu√™n ƒë·ªÉ l·∫°i c√¢u h·ªèi ho·∫∑c kinh nghi·ªám c·ªßa b·∫°n ·ªü ph·∫ßn b√¨nh lu·∫≠n - m√¨nh r·∫•t mu·ªën l·∫Øng nghe t·ª´ b·∫°n!
